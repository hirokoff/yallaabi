<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Особенности операционных систем Windows и Linux. Сетевые настройки и управление маршрутизацией в операционных системах.</title>
    <style>
        body {
            text-align: center;
            margin: 0 auto;
            width: 80%;
            max-width: 1500px;
            font-family: Arial, sans-serif;
        }
        h1, h2, h3 {
            text-align: center;
        }
        table {
            margin: 20px auto;
        }
        pre {
            display: inline-block;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Особенности операционных систем Windows и Linux. Сетевые настройки и управление маршрутизацией в операционных системах.</h1>
    <p>Операционные системы Windows и Linux предлагают принципиально разные подходы к настройке и управлению сетью. Эти различия проистекают из их философии: Windows стремится к унификации и управляемости через графический интерфейс и централизованные инструменты, 
        в то время как Linux предлагает гибкость и мощь командной строки, давая администратору полный контроль над каждым аспектом сетевой подсистемы .</p>
    <h2>Фундаментальные различия в подходе</h2>
<p>В таблице ниже приведены основные отличия, которые важно понимать при работе с сетями в этих ОС.</p>
    <table border="1" cellpadding="10">
        <tr>
            <th>Характеристика</th>
            <th>Windows</th>
            <th>Linux</th>
        </tr>
        <tr>
            <td>Основной инструмент</td>
            <td>Графический интерфейс (Панель управления, «Параметры») и командная строка (netsh, powershell).</td>
            <td>Командная строка, конфигурационные текстовые файлы. Основной инструмент — пакет iproute2 .</td>
        </tr>
        <tr>
            <td>Управление конфигурацией</td>
            <td>Централизованное через реестр. Настройки интерфейсов хранятся в базе данных реестра.</td>
            <td>Децентрализованное через текстовые файлы (например, в /etc/network/interfaces или в каталоге /etc/netplan/ для Ubuntu).</td>
        </tr>
        <tr>
            <td>Применение настроек</td>
            <td>Часто требуют перезагрузки интерфейса или всей системы. Изменения, внесенные через GUI, как правило, постоянны.</td>
            <td>Команды для временной настройки применяются немедленно. Для постоянной конфигурации правят файлы и перезапускают службу сети.</td>
        </tr>
        <tr>
            <td>Маршрутизация</td>
            <td>Строго контролируется. Для включения пересылки пакетов (функции маршрутизатора) на настольных версиях (Windows 10/11) требуются нетривиальные действия, и она не всегда работает предсказуемо . Маршрутизация — прерогатива серверных версий (Windows Server) с ролью RRAS (Routing and Remote Access Service).</td>
            <td>Включение пересылки пакетов — это изменение одного параметра ядра (net.ipv4.ip_forward=1), после чего система может выступать в роли маршрутизатора. Гибкая настройка политик маршрутизации — стандартная задача .</td>
        </tr>
    </table>

    <h2>Сетевые настройки и управление маршрутизацией</h2>

    <h3>В ОС Windows</h3>
    <p><strong>•    Просмотр и базовая настройка:</strong> Основная команда для просмотра конфигурации — <code>ipconfig /all</code>. Для просмотра таблицы маршрутизации используется команда <code>route print</code>.</p>
    <p><strong>•	Продвинутое управление (netsh):</strong> Главный инструмент для тонкой настройки сети из командной строки — <code>netsh interface</code>С его помощью можно управлять IP-адресами, DNS-серверами, параметрами IPv4/IPv6, а также настраивать прокси и туннели.</p>
    <p><strong>•	Настройка IP-адреса:</strong></p>
    <code>netsh interface ipv4 set address name="Ethernet0" static 192.168.1.10 255.255.255.0 192.168.1.1</code>
    <p><strong>•    Добавление статического маршрута: </strong>Для добавления постоянного маршрута используется команда route add с ключом -p. Таблица маршрутов имеет первостепенное значение: именно по ней Windows выбирает, через какой интерфейс отправить пакет, когда их несколько . <code>route add 10.10.0.0 mask 255.255.0.0 192.168.1.2 metric 1 -p</code></p>
    <p><strong>•    Управление интерфейсами: </strong>Команда <code>netsh interface </code>озволяет также включать или отключать forwarding (маршрутизацию) на конкретном интерфейсе . Однако, как показывает практика, включения forwarding на интерфейсах недостаточно для полноценной маршрутизации между ними в клиентских версиях Windows . </p>
    <h3>В ОС Linux</h3>
    <p><strong>•	Современный стандарт (iproute2): </strong> В современных дистрибутивах Linux для настройки сети используется пакет <code>iproute2,</code>который пришел на смену устаревшим утилитам <code>ifconfig и route . </code>Его главная команда - <code>ip .</code></p>
    <p><strong>•	Просмотр интерфейсов:</strong><code>ip link show</code></p>
    <p><strong>Назначение IP-адреса:</strong> <code>sudo ip addr add 192.168.1.100/24 dev eth0</code></p>
    <p><strong>•	Просмотр таблицы маршрутизации: </strong><code></code>ip route show</p>
    <p><strong>•	Добавление статического маршрута: </strong><code></code>sudo ip route add 10.0.0.0/8 via 192.168.1.1 dev eth0</p>
    <p><strong>•	Анализ соединений:  </strong>Для просмотра активных сетевых соединений и сокетов используется утилита ss, которая быстрее и информативнее, чем устаревшая netstat .</p>
    <p><strong>•	Включение маршрутизации: </strong>Чтобы Linux начал пересылать пакеты между своими интерфейсами (стал маршрутизатором), нужно включить параметр в ядре. Временное включение:
<code>sudo sysctl -w net.ipv4.ip_forward=1</code>
Для постоянного включения необходимо раскомментировать или добавить строку net.ipv4.ip_forward=1 в файл /etc/sysctl.conf или создать файл в каталоге /etc/sysctl.d/. Это разительно отличается от сложностей, возникающих при попытке настроить аналогичное поведение в настольной Windows .
</p>

    
    <h2>Выбор инструмента в зависимости от задачи</h2>
    
    <table border="1" cellpadding="10">
        <tr>
            <th>Задача</th>
            <th>Windows</th>
            <th>Linux</th>
        </tr>
        <tr>
            <td>Быстрый просмотр IP-адресов</td>
            <td>ipconfig</td>
            <td>ip addr show или ifconfig</td>
        </tr>
        <tr>
            <td>Просмотр таблицы маршрутизации</td>
            <td>route print</td>
            <td>ip route show или route -n</td>
        </tr>
        <tr>
            <td>Добавление статического маршрута</td>
            <td>route add -p</td>
            <td>ip route add</td>
        </tr>
        <tr>
            <td>Включение/отключение интерфейса</td>
            <td>netsh interface set interface ...</td>
            <td>ip link set dev eth0 up/down</td>
        </tr>

        <tr>
            <td>Анализ слушающих портов</td>
            <td>netstat -an или Get-NetTCPConnection в PowerShell</td>
            <td>ss -tuln</td>
        </tr>

        <tr>
            <td>Включение пересылки пакетов</td>
            <td>Настройка роли RRAS (Windows Server)</td>
            <td>sysctl net.ipv4.ip_forward=1</td>
        </tr>
    </table>

    <h2>Заключение</h2>
    <p>Таким образом, Windows предлагает более "коробочное" и управляемое решение, особенно в серверных версиях, где функционал маршрутизации выделен в отдельную роль. Linux же предоставляет набор мощных и гибких инструментов командной строки (iproute2), которые дают администратору возможность строить сетевую инфраструктуру любой сложности, начиная от простой маршрутизации и заканчивая сложным управлением трафиком .</p>
</body>
</html>
